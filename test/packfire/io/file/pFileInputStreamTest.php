<?php

pload('packfire.io.file.pFileInputStream');

/**
 * Test class for pFileInputStream.
 * Generated by PHPUnit on 2012-06-28 at 02:17:03.
 */
class pFileInputStreamTest extends PHPUnit_Framework_TestCase {

    /**
     * @var pFileInputStream
     */
    protected $object;

    /**
     * Sets up the fixture, for example, opens a network connection.
     * This method is called before a test is executed.
     */
    protected function setUp() {
        $this->object = new pFileInputStream(__FILE__);
        $this->object->open();
    }

    /**
     * Tears down the fixture, for example, closes a network connection.
     * This method is called after a test is executed.
     */
    protected function tearDown() {
        $this->object->close();
    }

    /**
     * @covers pFileInputStream::pathname
     */
    public function testPathname() {
        $this->assertEquals(__FILE__, $this->object->pathname());
    }

    /**
     * @covers pFileInputStream::length
     */
    public function testLength() {
        $this->assertEquals(filesize(__FILE__), $this->object->length());
    }

    /**
     * @covers pFileInputStream::read
     */
    public function testRead() {
        $this->assertEquals('<?php', $this->object->read(5));
    }

    /**
     * @covers pFileInputStream::seek
     */
    public function testSeek() {
        $this->object->seek(2);
        $this->assertEquals('php', $this->object->read(3));
    }

    /**
     * @covers pFileInputStream::seekable
     */
    public function testSeekable() {
        $this->assertTrue($this->object->seekable());
    }

    /**
     * @covers pFileInputStream::tell
     */
    public function testTell() {
        $this->assertEquals(0, $this->object->tell());
        $this->object->seek(3);
        $this->assertEquals(3, $this->object->tell());
        $this->object->seek(2);
        $this->assertEquals(2, $this->object->tell());
    }
    
}
